scenarios:
  - id: "simple"
    test: { name: "Typedef Extraction - Simple", category: "unit", id: "0060" }
    source_files:
      t.c: |
        typedef int MyInt;
        typedef char* String;
    config.json: |
      {"project_name":"td_simple","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "function_pointers"
    test: { name: "Typedef Extraction - Function Pointers", category: "unit", id: "0061" }
    source_files:
      t.c: |
        typedef int (*Callback)(int);
    config.json: |
      {"project_name":"td_fp","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "structs"
    test: { name: "Typedef Extraction - Structs", category: "unit", id: "0062" }
    source_files:
      t.c: |
        typedef struct { int x; } S;
    config.json: |
      {"project_name":"td_structs","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "enums"
    test: { name: "Typedef Extraction - Enums", category: "unit", id: "0063" }
    source_files:
      t.c: |
        typedef enum { A, B } E;
    config.json: |
      {"project_name":"td_enums","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "unions"
    test: { name: "Typedef Extraction - Unions", category: "unit", id: "0064" }
    source_files:
      t.c: |
        typedef union { int i; float f; } U;
    config.json: |
      {"project_name":"td_unions","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "mixed"
    test: { name: "Typedef Extraction - Mixed", category: "unit", id: "0065" }
    source_files:
      t.c: |
        typedef int MyInt;
        typedef enum { A, B } E;
        typedef struct { int x; } S;
    config.json: |
      {"project_name":"td_mixed","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "edge_cases"
    test: { name: "Typedef Extraction - Edge Cases", category: "unit", id: "0066" }
    source_files:
      t.c: |
        // comment
        typedef unsigned long SizeT; /* with comment */
    config.json: |
      {"project_name":"td_edge","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }