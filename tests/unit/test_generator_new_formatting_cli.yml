scenarios:
  - id: "enum_stereotype"
    test: { name: "New Formatting - Enum", category: "unit", id: "0100", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{},"enums":{"E":{"name":"E","values":["A","B"]}},"unions":{},"functions":[],"globals":[],"includes":[],"macros":[],"aliases":{},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "struct_stereotype"
    test: { name: "New Formatting - Struct", category: "unit", id: "0101", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{"S":{"name":"S","fields":[{"name":"x","type":"int"}]}},"enums":{},"unions":{},"functions":[],"globals":[],"includes":[],"macros":[],"aliases":{},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "union_stereotype"
    test: { name: "New Formatting - Union", category: "unit", id: "0102", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{},"enums":{},"unions":{"U":{"name":"U","fields":[{"name":"i","type":"int"},{"name":"f","type":"float"}]}},"functions":[],"globals":[],"includes":[],"macros":[],"aliases":{},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "alias_stereotype"
    test: { name: "New Formatting - Alias", category: "unit", id: "0103", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{},"enums":{},"unions":{},"functions":[],"globals":[],"includes":[],"macros":[],"aliases":{"Alias":{"name":"Alias","original_type":"int","uses":[]}},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "function_pointer"
    test: { name: "New Formatting - Function Pointer", category: "unit", id: "0104", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{},"enums":{},"unions":{},"functions":[],"globals":[],"includes":[],"macros":[],"aliases":{},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "complex_typedef"
    test: { name: "New Formatting - Complex Typedef", category: "unit", id: "0105", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","structs":{"S":{"name":"S","fields":[{"name":"x","type":"int"}]}},"enums":{"E":{"name":"E","values":["A"]}},"unions":{},"functions":[{"name":"main","return_type":"int","parameters":[]}],"globals":[],"includes":[],"macros":[],"aliases":{"Alias":{"name":"Alias","original_type":"int","uses":[]}},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }
  - id: "visibility_logic"
    test: { name: "New Formatting - Visibility Logic", category: "unit", id: "0106", mode: "generate" }
    source_files:
      model.json: |
        {"project_name":"fmt","source_folder":".","files":{"a.c":{"file_path":"a.c","name":"a.c","functions":[{"name":"pub","return_type":"void","parameters":[]},{"name":"priv","return_type":"void","parameters":[]}],"globals":[{"name":"g","type":"int"}],"includes":["a.h"],"macros":[],"aliases":{},"structs":{},"enums":{},"unions":{},"include_relations":[],"anonymous_relationships":{}} ,"a.h":{"file_path":"a.h","name":"a.h","functions":[{"name":"pub","return_type":"void","parameters":[]}],"globals":[{"name":"g","type":"int"}],"includes":[],"macros":[],"aliases":{},"structs":{},"enums":{},"unions":{},"include_relations":[],"anonymous_relationships":{}}}}
    config.json: |
      {"project_name":"fmt","source_folders":["."],"output_dir":"./output"}
    assertions:
      execution: { exit_code: 0 }